{"version":3,"file":"commonHelpers.js","sources":["../src/js/BOOKS_API.js","../src/js/toggle_theme.js","../src/js/categories_book.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://books-backend.p.goit.global/books/';\n\nexport async function getCategoryList() {\n  const params = 'category-list';\n  return await axios.get(`${BASE_URL}${params}`);\n}\n\nexport async function getTopBooks() {\n  const params = 'top-books';\n  return await axios.get(`${BASE_URL}${params}`);\n}\n\nexport async function getBooksByCategory(selectedCategory) {\n  const params = 'category?category=';\n  return await axios.get(`${BASE_URL}${params}${selectedCategory}`);\n}\n\nexport async function getBooksId(idBook) {\n  return await axios.get(`${BASE_URL}${idBook}`);\n}\n","const themeSwitcher = document.getElementById(\"theme-switch\");\nconst bodyEl = document.body;\n\nthemeSwitcher.addEventListener(\"click\", onCheckBoxChange);\ndocument.addEventListener(\"DOMContentLoaded\", setThemeOnLoad);\n\nconst LS_KEY = \"swicher\";\n\nfunction onCheckBoxChange() {\n    if (themeSwitcher.checked) {\n      bodyEl.classList.replace(\"theme-light\", \"theme-dark\");\n      localStorage.setItem(LS_KEY, \"theme-dark\");\n      return;\n    }\n  \n    bodyEl.classList.replace(\"theme-dark\", \"theme-light\");\n    localStorage.setItem(LS_KEY, \"theme-light\");\n\n  \n  }\n\n  function setThemeOnLoad() {\n    const lsData = localStorage.getItem(LS_KEY);\n    if (lsData === \"theme-dark\") {\n      bodyEl.classList.replace(\"theme-light\", \"theme-dark\");\n      themeSwitcher.checked = true;\n      return;\n    }\n    bodyEl.classList.replace(\"theme-dark\", \"theme-light\");\n}\n","import { all } from 'axios';\nimport { getTopBooks, getBooksByCategory } from './BOOKS_API';\n\nconst categoriesBook = document.querySelector('.categories-books-all');\nconst categoriesBooksTitle = document.querySelector('.categories-books-title');\n\nwindow.addEventListener('load', onLoad);\n\nasync function onLoad() {\n  try {\n    const topBooks = await getTopBooks();\n    const categories = createCategories(topBooks.data);\n    console.log('topBooks', topBooks);\n    addCategoriesMarkup(categories);\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nfunction createCategories(arr = []) {\n  return arr\n    .map(({ list_name, books }) => {\n      return `\n      <div class=\"categories-books-genre-title\"> ${list_name}\n        <ul class=\"categories-books-genre-all-books\">\n        ${createCard(books)}\n        </ul>\n        <button class=\"categories-books-btn\">see more</button>\n      </div>\n      `;\n    })\n    .join('');\n}\n\nfunction createCard(books = []) {\n  return books\n    .map(({ _id, list_name, author, book_image, title }) => {\n      return `\n      <li class=\"categories-books-genre-book\" data-id=\"${_id}\" data-genre=\"${list_name}\">\n        <div class=\"categories-books-genre-book-img-thumb\">\n          <img class=\"categories-books-genre-book-img\"\n            src=\"${book_image}\" alt=\"Title - '${title}'\">\n        </div>\n        <h2 class=\"categories-books-genre-book-title\">${title}</h2>\n        <h3 class=\"categories-books-genre-book-author\">${author}</h3>\n      </li>\n      `;\n    })\n    .join('');\n}\n\nfunction addCategoriesMarkup(markup) {\n  categoriesBook.insertAdjacentHTML('beforeend', markup);\n}\n"],"names":["BASE_URL","getTopBooks","params","axios","themeSwitcher","bodyEl","onCheckBoxChange","setThemeOnLoad","LS_KEY","categoriesBook","onLoad","topBooks","categories","createCategories","addCategoriesMarkup","err","arr","list_name","books","createCard","_id","author","book_image","title","markup"],"mappings":"oGAEA,MAAMA,EAAW,6CAOV,eAAeC,GAAc,CAClC,MAAMC,EAAS,YACf,OAAO,MAAMC,EAAM,IAAI,GAAGH,CAAQ,GAAGE,CAAM,EAAE,CAC/C,CCZA,MAAME,EAAgB,SAAS,eAAe,cAAc,EACtDC,EAAS,SAAS,KAExBD,EAAc,iBAAiB,QAASE,CAAgB,EACxD,SAAS,iBAAiB,mBAAoBC,CAAc,EAE5D,MAAMC,EAAS,UAEf,SAASF,GAAmB,CACxB,GAAIF,EAAc,QAAS,CACzBC,EAAO,UAAU,QAAQ,cAAe,YAAY,EACpD,aAAa,QAAQG,EAAQ,YAAY,EACzC,MACD,CAEDH,EAAO,UAAU,QAAQ,aAAc,aAAa,EACpD,aAAa,QAAQG,EAAQ,aAAa,CAG3C,CAED,SAASD,GAAiB,CAExB,GADe,aAAa,QAAQC,CAAM,IAC3B,aAAc,CAC3BH,EAAO,UAAU,QAAQ,cAAe,YAAY,EACpDD,EAAc,QAAU,GACxB,MACD,CACDC,EAAO,UAAU,QAAQ,aAAc,aAAa,CACxD,CC1BA,MAAMI,EAAiB,SAAS,cAAc,uBAAuB,EACxC,SAAS,cAAc,yBAAyB,EAE7E,OAAO,iBAAiB,OAAQC,CAAM,EAEtC,eAAeA,GAAS,CACtB,GAAI,CACF,MAAMC,EAAW,MAAMV,IACjBW,EAAaC,EAAiBF,EAAS,IAAI,EACjD,QAAQ,IAAI,WAAYA,CAAQ,EAChCG,EAAoBF,CAAU,CAC/B,OAAQG,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CACH,CAEA,SAASF,EAAiBG,EAAM,GAAI,CAClC,OAAOA,EACJ,IAAI,CAAC,CAAE,UAAAC,EAAW,MAAAC,KACV;AAAA,mDACsCD,CAAS;AAAA;AAAA,UAElDE,EAAWD,CAAK,CAAC;AAAA;AAAA;AAAA;AAAA,OAKtB,EACA,KAAK,EAAE,CACZ,CAEA,SAASC,EAAWD,EAAQ,GAAI,CAC9B,OAAOA,EACJ,IAAI,CAAC,CAAE,IAAAE,EAAK,UAAAH,EAAW,OAAAI,EAAQ,WAAAC,EAAY,MAAAC,KACnC;AAAA,yDAC4CH,CAAG,iBAAiBH,CAAS;AAAA;AAAA;AAAA,mBAGnEK,CAAU,mBAAmBC,CAAK;AAAA;AAAA,wDAEGA,CAAK;AAAA,yDACJF,CAAM;AAAA;AAAA,OAG1D,EACA,KAAK,EAAE,CACZ,CAEA,SAASP,EAAoBU,EAAQ,CACnCf,EAAe,mBAAmB,YAAae,CAAM,CACvD"}