{"version":3,"file":"commonHelpers2.js","sources":["../src/js/reg_form.js"],"sourcesContent":["// Конфігурація бази данних\nconst firebaseConfig = {\n    apiKey: \"AIzaSyA9CLWz8je6lpN_T6IoDYOeBn4bsK9jSK8\",\n    authDomain: \"bookshelf-smart-foxes.firebaseapp.com\",\n    projectId: \"bookshelf-smart-foxes\",\n    storageBucket: \"bookshelf-smart-foxes.appspot.com\",\n    messagingSenderId: \"719401160352\",\n    appId: \"1:719401160352:web:0617680c3d6e31123ec3c5\",\n    measurementId: \"G-7B8E53CR8P\"\n  };\n  firebase.initializeApp(firebaseConfig);\n  let auth = firebase.auth();\n  let database = firebase.database();\n  \n  // Відкриття модалки\n  function openModal() {\n    document.getElementById('myModal').style.display = 'block';\n  }\n  \n  // Закриття модалки\n  function closeModal() {\n    document.getElementById('myModal').style.display = 'none';\n  }\n  // Функція для показу рєєстраційної форми при перемиканні\n  function showRegistrationForm() {\n    document.getElementById('registration_form').style.display = 'block';\n    document.getElementById('login_form').style.display = 'none';\n  }\n  // Функція для показу форми логіну при перемиканні\n  function showLoginForm() {\n    document.getElementById('registration_form').style.display = 'none';\n    document.getElementById('login_form').style.display = 'block';\n  }\n  // Функція для реєстрації\nfunction register() {\n    let name = document.getElementById('registration_name').value;\n    let email = document.getElementById('registration_email').value;\n    let password = document.getElementById('registration_password').value;\n\n    // Валідація\n    if (validate_field(name) == false || validate_email(email) == false || validate_password(password) == false) {\n        alert('Registration failed. Please check your inputs.');\n        return;\n    }\n    // Запис нового користувача\n    auth.createUserWithEmailAndPassword(email, password)\n        .then(function () {\n            let user = auth.currentUser;\n            let database_ref = database.ref();\n            let user_data = {\n                name: name,\n                email: email,\n                last_login: Date.now()\n            };\n            database_ref.child('users/' + user.uid).set(user_data);\n            alert('Registration successful!');\n        })\n        .catch(function (error) {\n            let error_code = error.code;\n            let error_message = error.message;\n            alert(error_message);\n        });\n}\n\n  // Функція для логіну\n  function login() {\n    let email = document.getElementById('login_email').value;\n    let password = document.getElementById('login_password').value;\n  \n  // Валідація\n    if (validate_email(email) == false || validate_password(password) == false) {\n        alert('Login failed. Please check your inputs.');\n        return;\n    }\n  // Перевірка,чи наявний користувач у базі данних\n    auth.signInWithEmailAndPassword(email, password)\n        .then(function () {\n            let user = auth.currentUser;\n            let database_ref = database.ref();\n            let user_data = {\n                last_login: Date.now()\n            };\n            database_ref.child('users/' + user.uid).update(user_data);\n            alert('Login successful!');\n        })\n        .catch(function (error) {\n          // Повідомлення про помилку\n            let error_code = error.code;\n            let error_message = error.message;\n            alert(error_message);\n        });\n  }\n  // Функції валідації\n  function validate_email(email) {\n    let expression = /^[^@]+@\\w+(\\.\\w+)+\\w$/;\n    return expression.test(email);\n  }\n  function validate_password(password) {\n    return password.length >= 6;\n  }\n  function validate_field(field) {\n    return field.trim() !== '';\n}  \n  \n\nconsole.log(ParticlesApp)"],"names":["firebaseConfig"],"mappings":"0CACA,MAAMA,EAAiB,CACnB,OAAQ,0CACR,WAAY,wCACZ,UAAW,wBACX,cAAe,oCACf,kBAAmB,eACnB,MAAO,4CACP,cAAe,cACnB,EACE,SAAS,cAAcA,CAAc,EAC1B,SAAS,KAAO,EACZ,SAAS,SAAW,EA6FrC,QAAQ,IAAI,YAAY"}